<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Survival Kit - Future-Proof Your Career</title>
    <style>
        :root {
            --primary-green: #92FE9D;
            --primary-blue: #00C9FF;
            --dark-bg: #121212;
            --card-bg: #1e2227;
            --text-light: #EAEAEA;
            --danger-red: #ff4b2b;
            --gold: #FFD700;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--dark-bg);
            color: var(--text-light);
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        header {
            background: linear-gradient(90deg, var(--primary-blue), var(--primary-green));
            padding: 40px 20px;
            text-align: center;
            color: #121212;
        }

        header h1 { margin: 0; font-size: 2.5rem; }
        header p { margin: 10px 0 0; font-size: 1.2rem; font-weight: 500; }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* API Key Section */
        .api-config {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 40px;
            border: 1px solid #333;
            text-align: center;
        }

        input[type="password"] {
            padding: 12px;
            width: 320px;
            border-radius: 6px;
            border: 1px solid #444;
            background: #121212;
            color: white;
            margin-right: 10px;
            font-size: 1rem;
        }

        button {
            padding: 12px 24px;
            border-radius: 6px;
            border: none;
            background: var(--primary-green);
            color: #121212;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, background 0.2s;
            font-size: 1rem;
        }

        button:hover { transform: scale(1.05); background: #76e081; }

        /* Roles Grid */
        .roles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .role-card {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid #333;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .role-card:hover {
            border-color: var(--primary-green);
            background: #252a30;
            transform: translateY(-5px);
        }

        /* Quiz Section */
        #quiz-area {
            display: none;
            margin-top: 40px;
            background: var(--card-bg);
            padding: 30px;
            border-radius: 15px;
            border: 1px solid #444;
        }

        .quiz-question { margin-bottom: 25px; }
        .quiz-question p { margin-bottom: 12px; font-weight: bold; font-size: 1.1rem; }
        
        .options { display: flex; gap: 10px; flex-wrap: wrap; }
        .option-btn {
            background: #121212;
            border: 1px solid #444;
            color: white;
            padding: 10px 18px;
            border-radius: 25px;
            cursor: pointer;
            transition: 0.2s;
        }
        .option-btn.selected {
            background: var(--primary-blue);
            border-color: var(--primary-blue);
            color: #121212;
        }

        /* Results Area */
        #results-area {
            display: none;
            margin-top: 40px;
            background: var(--card-bg);
            padding: 35px;
            border-radius: 15px;
            border-left: 6px solid var(--primary-green);
        }

        .risk-meter {
            height: 30px;
            background: #121212;
            border-radius: 15px;
            margin: 25px 0;
            overflow: hidden;
            border: 1px solid #333;
        }

        #risk-fill {
            height: 100%;
            width: 0%;
            transition: width 1.5s ease-in-out;
            background: linear-gradient(90deg, var(--primary-green), var(--danger-red));
        }

        #ai-tutorial {
            background: #121212;
            padding: 25px;
            border-radius: 12px;
            margin-top: 25px;
            white-space: pre-wrap;
            font-size: 1.1rem;
            border: 1px solid #333;
            min-height: 100px;
            height: auto;
            display: block;
            overflow: visible; /* CRITICAL: Ensure no clipping */
        }

        /* Certificate Section */
        #certificate-section {
            display: none;
            text-align: center;
            margin-top: 60px;
            padding: 80px 40px;
            border-radius: 20px;
            border: 8px double var(--primary-green); 
            background: #1a1d21;
            position: relative;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }

        /* Golden Badge CSS */
        .golden-badge {
            width: 140px;
            height: 140px;
            background: radial-gradient(circle, #ffd700, #b8860b) !important;
            border-radius: 50%;
            margin: 40px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #121212 !important;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
            border: 5px solid #fff;
            position: relative;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }
        .golden-badge::before, .golden-badge::after {
            content: '';
            position: absolute;
            width: 50px;
            height: 100px;
            background: #b8860b !important;
            bottom: -40px;
            z-index: -1;
            clip-path: polygon(0% 0%, 100% 0%, 50% 100%);
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }
        .golden-badge::before { left: 15px; transform: rotate(15deg); }
        .golden-badge::after { right: 15px; transform: rotate(-15deg); }

        #graduation-section {
            display: none;
            text-align: center;
            margin-top: 60px;
            padding: 50px;
            border-radius: 15px;
            background: #252a30; 
            border: 1px solid var(--primary-blue);
        }

        .download-btn {
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
            color: #121212;
            font-size: 1.2rem;
            padding: 15px 35px;
            border-radius: 30px;
            margin: 20px 0;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(146, 254, 157, 0.4); }
            70% { transform: scale(1.05); box-shadow: 0 0 0 15px rgba(146, 254, 157, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(146, 254, 157, 0); }
        }

        /* PRINT STYLES - FORCING COLOR */
        @media print {
            @page { size: portrait; margin: 0; }
            body { background: white !important; color: black !important; }
            header, .api-config, #roles, #quiz-area, #results-area, #graduation-section, button, .setup-guide {
                display: none !important;
            }
            .container { max-width: 100% !important; padding: 0 !important; margin: 0 !important; }
            #certificate-section {
                display: block !important;
                border: 15px double var(--primary-green) !important;
                background: #1a1d21 !important; 
                color: white !important;
                padding: 150px 60px !important;
                margin: 0 !important;
                height: 100vh !important;
                width: 100vw !important;
                box-sizing: border-box !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            #certificate-section h2, #certificate-section span { color: var(--primary-green) !important; }
            .golden-badge { 
                background: radial-gradient(circle, #ffd700, #b8860b) !important; 
                border: 5px solid white !important; 
                color: #121212 !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            .golden-badge::before, .golden-badge::after { background: #b8860b !important; }
        }

        #typing { font-style: italic; color: var(--primary-blue); display: none; margin-top: 15px; }
    </style>
</head>
<body>

    <header>
        <h1>AI Survival Kit</h1>
        <p>Future-Proof Your Career in the Age of AI</p>
    </header>

    <div class="container">
        
        <div class="api-config">
            <h3>üõ°Ô∏è Secure Your Experience</h3>
            <p>Activate your kit with a free Gemini API Key to unlock personalized AI strategy.</p>
            <div class="api-input-group">
                <input type="password" id="web-api-key" placeholder="Paste Gemini API Key here">
                <button onclick="saveKey()">Activate My Kit</button>
            </div>
            <p id="key-status" style="font-size: 0.85rem; margin-top: 0; color: var(--primary-blue);"></p>
            <div class="setup-guide">
                <h4>‚è±Ô∏è 1-Minute Setup Guide:</h4>
                <ol>
                    <li>Visit <a href="https://aistudio.google.com/app/apikey" target="_blank" style="color: var(--primary-green);">Google AI Studio</a>.</li>
                    <li>Click <b>"Create API key"</b> and copy it.</li>
                    <li>Paste it above to unlock your survival tools.</li>
                </ol>
            </div>
        </div>

        <section id="roles">
            <h2 style="text-align: center; margin-bottom: 30px;">1. Select Your Professional Field</h2>
            <div class="roles-grid">
                <div class="role-card" onclick="startQuiz('Customer Support')"><h3>üéß Support</h3><p>Service & Ops</p></div>
                <div class="role-card" onclick="startQuiz('Data Entry')"><h3>‚å®Ô∏è Data Entry</h3><p>Admin & Clerical</p></div>
                <div class="role-card" onclick="startQuiz('Copywriting')"><h3>‚úçÔ∏è Writing</h3><p>Content & Marketing</p></div>
                <div class="role-card" onclick="startQuiz('Graphic Design')"><h3>üé® Design</h3><p>Visual Arts</p></div>
                <div class="role-card" onclick="startQuiz('Accounting')"><h3>üìä Finance</h3><p>Bookkeeping</p></div>
                <div class="role-card" onclick="startQuiz('Legal Assistant')"><h3>‚öñÔ∏è Legal</h3><p>Research</p></div>
                <div class="role-card" onclick="startQuiz('Sales')"><h3>ü§ù Sales</h3><p>Relationships</p></div>
                <div class="role-card" onclick="startQuiz('Software Dev')"><h3>üíª Coding</h3><p>Development</p></div>
            </div>
        </section>

        <section id="quiz-area">
            <h2 id="quiz-title">Career Risk Assessment</h2>
            <div id="quiz-container"></div>
            <div style="text-align: center; margin-top: 30px;">
                <button onclick="calculateResults()">Calculate My Survival Score</button>
            </div>
        </section>

        <section id="results-area">
            <h2 id="result-role-title">Assessment Results</h2>
            <div class="risk-meter"><div id="risk-fill"></div></div>
            <p id="risk-summary" style="font-size: 1.3rem; font-weight: bold; text-align: center; color: var(--primary-green);"></p>
            <hr style="border: 0; border-top: 1px solid #333; margin: 35px 0;">
            <h3>üéì Your Personalized AI Survival Strategy</h3>
            <p id="typing">Gemini AI is crafting your deep-dive strategy...</p>
            <div id="ai-tutorial">Your personalized strategy will appear here.</div>
            <div style="margin-top: 40px; text-align: center;">
                <button id="cert-btn" style="display: none;" onclick="showCert()">I've Completed My Training</button>
            </div>
        </section>

        <section id="certificate-section">
            <div style="font-size: 2.5rem; font-weight: bold; margin-bottom: 20px;">CERTIFICATE OF AI ADAPTABILITY</div>
            <p style="font-size: 1.2rem;">This certifies that the user has successfully completed the</p>
            <h2 style="color: var(--primary-green); margin: 30px 0; font-size: 3rem;">AI SURVIVAL & EMPOWERMENT COURSE</h2>
            <p style="font-size: 1.2rem;">for the professional field of <br><span id="cert-role" style="color: var(--primary-green); font-weight: bold; font-size: 2rem;"></span></p>
            
            <div class="golden-badge">GRADUATE</div>
            
            <p style="margin-top: 60px; font-size: 1.1rem; opacity: 0.8;">Verified by AI Survival Kit | January 31, 2026</p>
            <button onclick="showGraduation()" style="margin-top: 30px; background: var(--primary-blue);">Claim Your Graduation Reward</button>
        </section>

        <section id="graduation-section">
            <h2 style="color: var(--primary-green); font-size: 2.2rem;">üéì Mission Accomplished!</h2>
            <p style="font-size: 1.1rem; margin: 20px 0;">You are now equipped to lead in the age of AI. Take your assistant with you.</p>
            <button class="download-btn" onclick="handleDownload()">üöÄ Activate AI Survival Assistant</button>
            <div id="install-box" style="display:none; background:#121212; padding:25px; border-radius:12px; margin-top:20px; text-align:left;">
                <h3 style="color:var(--primary-blue); margin-top:0;">üõ†Ô∏è Next Step: One-Time Setup</h3>
                <p>The Assistant is already in your project folder! Just follow these 3 steps:</p>
                <ol>
                    <li>Go to <code>chrome://extensions</code> in Chrome.</li>
                    <li>Enable <b>Developer Mode</b> (top right).</li>
                    <li>Click <b>Load unpacked</b> and select the <code>chrome-extension</code> folder.</li>
                </ol>
            </div>
            <button onclick="window.print()" style="margin-top:30px; background: #444; color: white;">üñ®Ô∏è Print Professional Full-Color Certificate</button>
        </section>

    </div>

    <script>
        let apiKey = localStorage.getItem('survival_kit_key') || '';
        let currentRole = '';
        let scores = [0, 0, 0, 0, 0];
        const questions = [
            "How much of your work involves repetitive data entry?",
            "How often do you follow a strict set of rules or scripts?",
            "How much of your role involves predicting outcomes from past data?",
            "How often do you create standard documents or reports?",
            "How much of your time is spent on manual data gathering?"
        ];

        function saveKey() {
            const key = document.getElementById('web-api-key').value.trim();
            if(key) { localStorage.setItem('survival_kit_key', key); apiKey = key; document.getElementById('key-status').innerText = "‚úÖ Kit Activated!"; }
        }

        function startQuiz(role) {
            if(!apiKey) { alert("Please activate your Kit first!"); return; }
            currentRole = role;
            document.getElementById('roles').style.display = 'none';
            document.getElementById('quiz-area').style.display = 'block';
            document.getElementById('quiz-title').innerText = `${role} Assessment`;
            const container = document.getElementById('quiz-container');
            container.innerHTML = questions.map((q, i) => `
                <div class="quiz-question"><p>${i+1}. ${q}</p><div class="options">
                ${[1, 2, 3, 4, 5].map(v => `<button class="option-btn q${i}" onclick="setScore(${i}, ${v}, this)">${v === 1 ? 'Little' : v === 5 ? 'All' : v}</button>`).join('')}
                </div></div>`).join('');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function setScore(qIdx, value, btn) {
            scores[qIdx] = value;
            document.querySelectorAll(`.q${qIdx}`).forEach(b => b.classList.remove('selected'));
            btn.classList.add('selected');
        }

        async function calculateResults() {
            if(scores.includes(0)) { alert("Please answer all questions!"); return; }
            const total = scores.reduce((a, b) => a + b, 0);
            const percentage = Math.round((total / 25) * 100);
            document.getElementById('quiz-area').style.display = 'none';
            document.getElementById('results-area').style.display = 'block';
            setTimeout(() => { document.getElementById('risk-fill').style.width = percentage + '%'; }, 100);
            document.getElementById('risk-summary').innerText = `AI Automation Potential: ${percentage}%`;
            generateTutorial(percentage);
        }

        async function generateTutorial(percentage) {
            const tutorial = document.getElementById('ai-tutorial');
            const typing = document.getElementById('typing');
            typing.style.display = 'block';
            tutorial.innerText = "";
            try {
                // Moving to v1beta for better stability with complex prompts
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: `You are an AI Career Strategist. A ${currentRole} professional just scored ${percentage}% on an AI Risk Assessment. 
                        Provide a deep, high-quality strategy in exactly 3 paragraphs. 
                        Paragraph 1: Impact analysis.
                        Paragraph 2: ONE AI tool to master.
                        Paragraph 3: ONE human skill to double-down on.
                        CRITICAL: You MUST finish every single sentence. Do not stop mid-thought. Aim for 180 words. If you feel you are running out of space, prioritize finishing the final sentence over adding more detail.` }] }],
                        generationConfig: { 
                            temperature: 0.7, 
                            maxOutputTokens: 2048, // Doubling the token budget
                            topP: 0.95,
                            topK: 40
                        },
                        safetySettings: [
                            { category: "HARM_CATEGORY_HARASSMENT", threshold: "BLOCK_NONE" },
                            { category: "HARM_CATEGORY_HATE_SPEECH", threshold: "BLOCK_NONE" },
                            { category: "HARM_CATEGORY_SEXUALLY_EXPLICIT", threshold: "BLOCK_NONE" },
                            { category: "HARM_CATEGORY_DANGEROUS_CONTENT", threshold: "BLOCK_NONE" }
                        ]
                    })
                });
                const data = await response.json();
                typing.style.display = 'none';
                if(data.candidates && data.candidates[0].content) {
                    // Extract the text safely
                    const text = data.candidates[0].content.parts[0].text;
                    tutorial.innerText = text;
                    document.getElementById('cert-btn').style.display = 'inline-block';
                    document.getElementById('cert-role').innerText = currentRole;
                } else {
                    tutorial.innerText = "The AI was interrupted. Please click the role and try again.";
                }
            } catch (e) { 
                typing.style.display = 'none'; 
                tutorial.innerText = "‚ùå Error connecting to Gemini. Please check your API key and internet connection."; 
            }
        }

        function handleDownload() {
            document.getElementById('install-box').style.display = 'block';
            alert("The AI Assistant is ready in your project folder! Follow the 3 steps below to install it.");
        }

        function showCert() { document.getElementById('certificate-section').style.display = 'block'; document.getElementById('certificate-section').scrollIntoView({ behavior: 'smooth' }); }
        function showGraduation() { document.getElementById('graduation-section').style.display = 'block'; document.getElementById('graduation-section').scrollIntoView({ behavior: 'smooth' }); }
    </script>
</body>
</html>
